"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[36584],{6873:(e,t,a)=>{a.r(t),a.d(t,{FileResultRow:()=>O,default:()=>S});var n=a(74848),r=a(31078),l=a(53552),i=a(6665),s=a(19189),o=a(78314),c=a(65787),d=a(25407),u=a(66108),m=a(94195),f=a(96459),h=a(11683),p=a(38621),g=a(45800),x=a(72511),y=a(5524),v=a(84268),w=a(31604),R=a(69726),F=a(12683),b=a(10095),C=a(91385),N=a(96540),_=a(7808),j=a(64642),I=a(76492),T=a(54030),k=a(34164);let E={excludeDirectories:!1,excludeSeeAllResults:!1};function S({actionListClassName:e,additionalResults:t,commitOid:a,config:u=E,findFileWorkerPath:p,getItemUrl:R,onRenderRow:b,onItemSelected:C,searchBoxRef:S,className:O,sx:L}){var P;let D,{excludeDirectories:B,excludeSeeAllResults:V}=u,{query:G,setQuery:z}=(0,r.JS)(),W=(0,o.t)(),M=N.useRef(null),H=S??M,[U,K]=N.useState(G.length>0),[q,Z]=N.useState(!!G),{list:X,directories:Y,loading:J,error:Q}=(0,T.o)(a,U,!!B),{path:ee}=(0,l.eu)(),{getUrl:et}=(0,s.Z)(),{queryText:ea,queryLine:en}=(D=(P=(P=G).replaceAll(" ","")).indexOf(":"))>=0?{queryText:P.substring(0,D),queryLine:parseInt(P.substring(D+1),10)}:{queryText:P,queryLine:void 0},{matches:er,clearMatches:el}=function(e,t,a,n){let[r,l]=N.useState(),s=N.useRef(""),o=N.useRef(null),{sendStats:c}=(0,i.T)(),d=N.useRef(!1),u=N.useCallback(()=>{let e=new _.z(a,j.j);e.onmessage=({data:e})=>{d.current=!1,l(e.list),s.current=e.query,e.startTime&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},o.current=e},[c,a]);return N.useEffect(()=>{if(n)return u(),function(){o.current?.terminate()}},[u,n]),N.useEffect(()=>{if(e.length&&t){d.current&&(o.current?.terminate(),u());let a=s.current&&t.startsWith(s.current);d.current=!0,o.current?.postMessage({baseList:a&&r||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:r,clearMatches:()=>l(void 0)}}((0,N.useMemo)(()=>[...X,...t??[]].sort(),[t,X]),ea,p,U),{sendRepoClickEvent:ei}=(0,i.T)(),es=(0,f.Z)(),[eo,ec]=N.useState(0),[ed,eu]=N.useState(()=>(0,I.q)()),em=N.useRef(null),ef=N.useRef(null),eh="file-results-list",{sendRepoKeyDownEvent:ep}=(0,i.T)(),{screenSize:eg}=(0,m.lm)(),ex=u.enableOverlay??eg>=m.Gy.large,ey=N.useCallback(e=>{ei("FILE_TREE.SEARCH_RESULT_CLICK"),C?.(e),Z(!1)},[ei,C]),ev=(e,t,a)=>R?R(e,t,a):et({path:e,action:t?"tree":"blob",hash:a}),{containerRef:ew}=(0,g.G)({bindKeys:h.z0.ArrowVertical|h.z0.HomeAndEnd,focusInStrategy:"previous"},[J,Q]);N.useEffect(()=>{G||Z(!1)},[G]),N.useEffect(()=>{document.activeElement!==H.current&&ex&&Z(!1)},[ee,H,ex]);let eR=er?.slice(0,40)||[],eF=er&&er.length>eR.length,eb=(0,n.jsx)("div",{className:(0,k.$)("FileResultsList-module__Box--vA4S3",{"FileResultsList-module__OverlayEnabled--TR58f":ex}),children:Q?(0,n.jsx)(x.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,n.jsxs)(y.l,{ref:ew,className:(0,k.$)(e,"FileResultsList-module__ActionList--_Vf2k",{"FileResultsList-module__ActionList_Overlay--_kFTy":ex}),role:"listbox",children:[!J&&eR.map((e,t)=>{let a=Y.includes(e),r=ev(e,a,en?`L${en}`:"");return(0,n.jsx)($,{active:e===ee,index:t,focused:ed&&eo===t,match:e,onRender:b,query:ea,onClick:ey,isDirectory:a,to:r,useOverlay:ex,listRef:ew},e)}),(0,n.jsxs)("div",{className:"m-3 text-center",children:[(0,n.jsx)(A,{loading:J||!er,visibleResultCount:eR.length,truncated:!!eF}),eF&&!V&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(v.A,{id:"see-all-results-link",className:(0,k.$)("focus-visible",{"FileResultsList-module__PrimerLink--vMxOi":ed&&eo===eR.length}),ref:em,href:(0,d.Y8Y)({owner:W.ownerLogin,repo:W.name,searchTerm:`path:${ea}`}),children:"See all results"})]})]})]})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.az,{ref:ef,sx:L,className:O,children:(0,n.jsx)(I.Z,{ariaActiveDescendant:(!ex&&G||ex&&q)&&ed&&eo>-1?eF&&eo===eR.length?"see-all-results-link":`file-result-${eo}`:void 0,ariaExpanded:ex?q:void 0,ariaHasPopup:ex,ariaControls:ex?eh:void 0,ref:H,query:G,onKeyDown:e=>{let{key:t,shiftKey:a,metaKey:n,altKey:r,ctrlKey:l}=e;if(!a&&!n&&!r){if("Escape"===t)G?(ep("FILE_TREE.CANCEL_SEARCH"),z(""),el()):document.activeElement&&document.activeElement.blur();else if(!G)return;else if("Enter"===t){if(!V&&eF&&eo===eR.length)es((0,d.Y8Y)({owner:W.ownerLogin,repo:W.name,searchTerm:`path:${ea}`})),C?.();else if(eR[eo]){let e=eR[eo];es(ev(eR[eo],!1,en?`L${en}`:"")),Z(!1),C?.(e)}}else if("ArrowDown"===t||l&&"n"===t){if(!V&&eF&&eo>=eR.length-1){if(ec(eR.length),em.current&&ew.current){let e=(0,c.U)(ew.current);(0,h.Rt)(em.current,e,{behavior:"instant"})}}else ec(Math.min(eo+1,eR.length-1));e.preventDefault();return}else if("ArrowUp"===t||l&&"p"===t){ec(Math.max(eo-1,0)),e.preventDefault();return}}},onPreload:()=>K(!0),onSearch:e=>{z(e),e?Z(!0):(el(),Z(!1)),ec(0)},onBlur:e=>{ew.current?.contains(e.relatedTarget)||(Z(!1),eu(!1))},onFocus:()=>{G&&Z(!0),eu(!0)},className:"FileResultsList-module__FilesSearchBox--fSAh3"})}),ex&&(0,n.jsx)(w.T,{anchorRef:ef,open:ex&&q,renderAnchor:null,onClose:()=>{Z(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:eh,role:"dialog"},children:eb}),!ex&&G&&eb]})}function A({visibleResultCount:e,truncated:t,loading:a}){return(0,n.jsx)("span",{role:"status",className:a||t||0===e?void 0:"sr-only","aria-label":a?"Loading":void 0,children:a?(0,n.jsx)(R.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let O=({active:e,focused:t,index:a,match:r,query:l,to:i,isDirectory:s,onClick:o,onRender:d,useOverlay:m,listRef:f})=>{let p=(0,C.Xq)(l,r);d?.();let g=N.useRef(null);N.useEffect(()=>{if(t&&g.current&&f?.current){let e=(0,c.U)(f.current);(0,h.Rt)(g.current,e,{behavior:"instant"})}},[t,f]);let x=(0,N.useCallback)(()=>{o?.(r)},[r,o]);return(0,n.jsx)(y.l.Item,{role:"group",active:e,className:(0,k.$)(t?"FileResultsList-module__ActionList_ItemFocused--lCTMd":void 0),children:(0,n.jsxs)(u.N,{to:i,ref:g,role:"option",onClick:x,id:`file-result-${a}`,tabIndex:m?-1:0,"data-focus-visible-added":t||void 0,className:(0,k.$)("d-flex","FileResultsList-module__ActionList_Item--DMdMo"),children:[(0,n.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,n.jsx)(D,{text:r,positionsList:p,LeadingIcon:s?L:P,className:"FileResultsList-module__HighlightMatch--Is2AV"})}),t&&(0,n.jsx)("div",{className:"sr-only",children:`Go to ${s?"folder":"file"}`})]})},r)},L=()=>(0,n.jsx)(b.A,{"aria-label":"Directory",icon:p.FileDirectoryFillIcon,size:"small",className:"FileResultsList-module__Octicon--LtXx2"}),P=()=>(0,n.jsx)(b.A,{"aria-label":"File",icon:p.FileIcon,className:"fgColor-muted mr-2",size:"small"}),$=N.memo(O);function D({text:e,positionsList:t,className:a,LeadingIcon:r}){let l=[],i=0;for(let a of t){if(Number(a)!==a||a<i||a>e.length)continue;let t=e.slice(i,a);t&&l.push(B(t)),i=a+1,l.push((0,n.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[a]},a))}return l.push(B(e.slice(i))),(0,n.jsx)("div",{className:a,children:(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(r,{}),l]})})}function B(e){return e.replaceAll("/","/\u200B")}try{S.displayName||(S.displayName="FileResultsList")}catch{}try{A.displayName||(A.displayName="FileResultsStatus")}catch{}try{O.displayName||(O.displayName="FileResultRow")}catch{}try{L.displayName||(L.displayName="DirectoryIcon")}catch{}try{P.displayName||(P.displayName="FileResultIcon")}catch{}try{$.displayName||($.displayName="MemoizedFileResultRow")}catch{}try{D.displayName||(D.displayName="HighlightMatch")}catch{}},8624:(e,t,a)=>{a.d(t,{L:()=>o});var n=a(74848),r=a(21728),l=a(38621),i=a(26108),s=a(34164);let o=a(96540).forwardRef((e,t)=>{let a,o,c,d=(0,r.c)(17),{expanded:u,testid:m,ariaLabel:f,ariaControls:h,onToggleExpanded:p,alignment:g,dataHotkey:x,className:y,size:v,tooltipDirection:w,variant:R}=e,F=u?`collapse-${m}`:`expand-${m}`,b=u?"left"===g?l.SidebarExpandIcon:l.SidebarCollapseIcon:"left"===g?l.SidebarCollapseIcon:l.SidebarExpandIcon;d[0]!==p?(a=e=>{p(e)},d[0]=p,d[1]=a):a=d[1];let C=R??"invisible";return d[2]!==y?(o=(0,s.$)(y,"fgColor-muted"),d[2]=y,d[3]=o):o=d[3],d[4]!==h||d[5]!==f||d[6]!==x||d[7]!==u||d[8]!==t||d[9]!==v||d[10]!==F||d[11]!==b||d[12]!==a||d[13]!==C||d[14]!==o||d[15]!==w?(c=(0,n.jsx)(i.K,{"aria-label":f,tooltipDirection:w,ref:t,"data-testid":F,"aria-expanded":u,"aria-controls":h,icon:b,"data-hotkey":x,onClick:a,variant:C,size:v,className:o}),d[4]=h,d[5]=f,d[6]=x,d[7]=u,d[8]=t,d[9]=v,d[10]=F,d[11]=b,d[12]=a,d[13]=C,d[14]=o,d[15]=w,d[16]=c):c=d[16],c});o.displayName="ExpandButton"},12748:(e,t,a)=>{a.d(t,{_:()=>r});var n=a(74848);function r({buttonFocusId:e,buttonHotkey:t,onButtonClick:a,buttonTestLabel:r,onlyAddHotkeyScopeButton:l}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{hidden:!0,"data-testid":r||"","data-hotkey":t,onClick:a,"data-hotkey-scope":e}),!l&&(0,n.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:a})]})}try{r.displayName||(r.displayName="DuplicateOnKeydownButton")}catch{}},17182:(e,t,a)=>{a.d(t,{Nq:()=>M,H:()=>h,c2:()=>eo,Uy:()=>H,qn:()=>ex});var n=a(74848),r=a(12748),l=a(80780),i=a(8624),s=a(54571),o=a(38621),c=a(21373),d=a(34164),u=a(96540);let m=u.forwardRef(({expanded:e,onToggleExpanded:t,className:a,ariaControls:u,textAreaId:m,useFilesButtonBreakpoint:f=!0,variant:h,getTooltipDirection:p},g)=>{let{toggleTreeShortcut:x}=(0,l.wk)(),[y]=(0,s.I)(()=>!1,!0,[]),v=p?.(e)??"se";return(0,n.jsxs)(n.Fragment,{children:[f&&(!e||y)&&(0,n.jsx)(c.Q,{"aria-label":"Expand file tree",leadingVisual:o.ArrowLeftIcon,"data-hotkey":x.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:g,onClick:t,variant:h??"invisible",className:"ExpandFileTreeButton-module__Button_1--g8F6Q",children:"Files"}),(0,n.jsx)(i.L,{dataHotkey:x.hotkey,className:(0,d.$)(a,"position-relative","ExpandFileTreeButton-module__expandButton--oKI1R",{"ExpandFileTreeButton-module__filesButtonBreakpoint--03FKA":f&&(!e||y)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:v,testid:"file-tree-button",ariaControls:u,ref:g,variant:h,onToggleExpanded:t}),(0,n.jsx)(r._,{buttonFocusId:m,buttonHotkey:x.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});m.displayName="ExpandFileTreeButton";var f=a(6665);function h({inputRef:e,onFindFilesShortcut:t,textAreaId:a}){let{sendRepoKeyDownEvent:i}=(0,f.T)(),{findFilesShortcut:s}=(0,l.wk)();return(0,n.jsx)(r._,{buttonFocusId:a,buttonHotkey:s.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),i("GO_TO_FILE")}})}try{h.displayName||(h.displayName="FindFilesShortcut")}catch{}var p=a(6873),g=a(93753),x=a(31078),y=a(46209),v=a(19189),w=a(78314),R=a(53419),F=a(25407),b=a(66108),C=a(94195),N=a(64830),_=a(96379),j=a(11683),I=a(73783),T=a(26108),k=a(87555),E=a(79080),S=a(10095),A=a(12683),O=a(27104);let L=(0,u.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}});try{L.displayName||(L.displayName="FileTreeContext")}catch{}let P="ReposFileTreePane-module__HideTree--IyYTf";var $=a(53552),D=a(25556),B=a(34535),V=a(96459),G=a(13436),z=a(69726);let W=(0,u.createContext)({});function M({children:e}){let t=(0,u.useRef)(!1),a=(0,u.useRef)(!1),r=(0,u.useRef)(!0),l=(0,u.useCallback)(e=>{t.current=e},[]),i=(0,u.useCallback)(e=>{a.current=e},[]),s=(0,u.useCallback)(e=>{r.current=e},[]),o=(0,u.useMemo)(()=>({expandAllFolders:t,refreshTree:a,shouldFetchFolders:r,setExpandAllFolders:l,setRefreshTree:i,setShouldFetchFolders:s}),[l,i,s]);return(0,n.jsx)(W.Provider,{value:o,children:e})}function H(){return(0,u.useContext)(W)}try{W.displayName||(W.displayName="FileTreeControlContext")}catch{}try{M.displayName||(M.displayName="FileTreeControlProvider")}catch{}var U=a(52870);function K(e,t,a){let n=[];for(let r of t)if(r.startsWith(e)){let t=r.slice(e.length+1),l=t.indexOf("/"),i=l>0?t.slice(0,l):t,s=`${e}/${i}`;if(a&&a.some(e=>e.path===s))continue;let o={items:[],data:{contentType:s===r?"file":"directory",name:i,path:s,isClientOnly:!0}};n.push(o)}return n}function q(e,t,a){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let n=t.name.slice(0,t.name.lastIndexOf("/")),r=n.indexOf("/")>-1,l={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:n,hasSimplifiedPath:r},i={items:[e],data:l};return(a.set(l.path,i),r)?q(i,{...l},a):i}function Z(e,t,a,n){if(!e)return{newRootItems:a,rootItemsUpdated:!1};let r=!!e[""]&&X("",t,a,e[""].items);for(let r of(n?.(a),Object.keys(e).sort()))if(r){let a=t.get(r);a&&(X(r,t,a.items,e[r].items,n),a.data.totalCount=e[r].totalCount)}return{newRootItems:a,rootItemsUpdated:r}}function X(e,t,a,n,r){let l=!1;for(let i of n){let n=e?`${e}/${i.name}`:i.name;if(!t.get(n)){let e={items:[],data:{...i}};if(t.set(n,e),i.hasSimplifiedPath){let n=q(e,i,t),s=a.findIndex(e=>e.data.path===n.data.path);-1!==s?n.items.length>a[s].items.length&&(a[s]=n,l=!0):(a.push(n),r?.(a))}else a.push(e),r?.(a)}}return l}function Y({isActive:e,file:t,onItemSelected:a,getItemUrl:r,selectedItemRef:l,navigate:i,onRenderRow:s,getFileTrailingVisual:c,getFileIcon:d}){let{sendRepoClickEvent:m}=(0,f.T)(),h=u.useRef(null),p=(0,B.Z)({focusRowRef:h,mouseRowRef:h}),g="submodule"===t.data.contentType,x=c?.(t.data),y=u.useCallback(n=>{g?(n.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):n.metaKey||n.ctrlKey||1===n.button?(window.open(r(t.data),"_blank"),n.preventDefault()):e?n.preventDefault():(a?.(),m("FILES_TREE.ITEM",{item_path:t.data.path}),i(r(t.data)),n.stopPropagation())},[t.data,r,e,g,i,a,m]);return s?.(),(0,n.jsxs)(G.G.Item,{ref:h,onSelect:y,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,n.jsx)(G.G.LeadingVisual,{children:d?d(t.data):g?(0,n.jsx)(o.FileSubmoduleIcon,{}):(0,n.jsx)(o.FileIcon,{})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{ref:l,style:{color:g?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),p&&(0,n.jsx)(D.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:h,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!x?.screenReaderText&&(0,n.jsx)("span",{className:"sr-only",children:x.screenReaderText}),!!x?.trailingVisual&&(0,n.jsx)(G.G.TrailingVisual,{children:x.trailingVisual})]})}let J=u.memo(Y);function Q({clientOnlyFilePaths:e,directory:t,isActive:a,isAncestorOfActive:r,leadingPath:l="",onItemSelected:i,dispatchKnownFolders:s,getItemUrl:o,getFetchUrl:c,selectedItemRef:d,navigate:m,onRenderRow:h,getFileTrailingVisual:p,getFileIcon:g,navigateOnClick:x=!0}){let{expandAllFolders:y,shouldFetchFolders:v}=H(),[w,R]=(0,u.useState)(y?.current||r),{sendRepoClickEvent:F}=(0,f.T)(),b=u.useRef(null),C=u.useRef(null),N=(0,B.Z)({focusRowRef:C,mouseRowRef:b}),[j,I,T,k,E,S,A]=function(e,t,a){let[n,r]=u.useState(e.items),[l,i]=u.useState(e.data.totalCount||0),[s,o]=u.useState(!1),[c,d]=u.useState(!1),{safeSetTimeout:m}=(0,U.A)();u.useEffect(()=>{r(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&i(e.data.totalCount)},[e.data.totalCount]);let f=u.useCallback(()=>{d(!1)},[]),h=u.useCallback((e,t)=>{let a=e||[...n];r(a.slice(0,100)),m(()=>{r(a),void 0!==t&&i(t)},1)},[n,m]);return[u.useCallback(async n=>{let l=new Map;if(e.data.isClientOnly){if(n){let a=K(e.data.path,n);for(let e of a)l.set(e.data.path,e);t({type:"add",folders:l,processingTime:0}),a.length>100?h(a,a.length):(r(a),i(a.length))}}else{let s=a(e.data);d(!1),o(!0);let c=Date.now(),u=await (0,_.lS)(`${s}?noancestors=1`);try{if(u.ok){let a=await u.json(),s=a.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===a.payload.tree.items.length};return(l.set(e.path,t),e.hasSimplifiedPath)?q(t,e,l):t});if(n){let t=e.data.path,r=K(t,n,a.payload.tree.items);for(let e of(s.push(...r),r))l.set(e.data.path,e)}t({type:"add",folders:l,processingTime:Date.now()-c}),e.items=s,e.data.totalCount=a.payload.tree.totalCount,s.length>100?h(s,a.payload.tree.totalCount):(r(s),i(a.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}o(!1)},[a,e,t,h]),h,n,s,c,f,l]}(t,s,c),O=A-T.length,L=l?`${l}/`:"";(0,u.useEffect)(()=>{y?.current&&!w&&R(!0)},[t,y,w]);let P=u.useCallback(n=>{y?.current&&(y.current=!1),n&&!w&&!k&&!E&&(t.items.length>100?I():0!==t.items.length||a||r||v?.current===!1||j(e)),n!==w&&R(n)},[y,w,k,E,t.items.length,a,r,v,I,j,e]),$=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&x?(window.open(o(t.data),"_blank"),e.preventDefault()):a?e.preventDefault():(i?.(),F("FILES_TREE.ITEM",{item_path:t.data.path}),x?m(o(t.data)):P?.(!w),e.stopPropagation())},[t.data,o,a,w,m,x,i,P,F]);u.useEffect(()=>{r&&!w&&P?.(!0)},[r]),u.useEffect(()=>{0===t.items.length&&w?P?.(!1):!w&&t.autoExpand&&P?.(!0)},[t.items.length]);let V=u.useCallback(e=>{d&&a&&d(e),b.current=e},[d,a]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,n.jsx)(ea,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:L+t.data.name,inheritsActive:a,dispatchKnownFolders:s,onItemSelected:i,selectedItemRef:d,getItemUrl:o,directoryNavigateOnClick:x,getFileTrailingVisual:p,getFileIcon:g}):(h?.(),(0,n.jsxs)(G.G.Item,{ref:C,expanded:w,onExpandedChange:P,current:a,onSelect:$,id:`${t.data.path}-item`,containIntrinsicSize:a?void 0:"auto 2rem",children:[(0,n.jsx)(G.G.LeadingVisual,{children:(0,n.jsx)(G.G.DirectoryIcon,{})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{ref:V,children:[L,t.data.name]}),N&&(0,n.jsx)(D.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:C,"aria-label":`${L}${t.data.name}`,open:!0,direction:"ne"})]}),(0,n.jsx)(G.G.SubTree,{state:k?"loading":E?"error":"done",children:E?(0,n.jsx)(G.G.ErrorDialog,{onRetry:j,onDismiss:S,children:"There was an error loading the folder contents."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ea,{clientOnlyFilePaths:e,directoryItems:T,dispatchKnownFolders:s,onItemSelected:i,selectedItemRef:d,getItemUrl:o,directoryNavigateOnClick:x,getFileTrailingVisual:p,getFileIcon:g}),O>0&&(0,n.jsx)(er,{message:`${O} entries not shown`})]})})]}))}let ee=u.memo(Q);function et({clientOnlyFilePaths:e,directoryItems:t,leadingPath:a,inheritsActive:r,onItemSelected:l,dispatchKnownFolders:i,selectedItemRef:s,onRenderRow:o,getItemUrl:c,getFileTrailingVisual:d,getFileIcon:m,directoryNavigateOnClick:f=!0}){let{path:h}=(0,$.eu)(),p=(0,v.Z)(),g=(0,V.Z)(),x=u.useRef(g);return(0,n.jsx)(n.Fragment,{children:t.map(t=>{let u=h===t.data.path,g=u||h.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,n.jsx)(ee,{clientOnlyFilePaths:e,isActive:r||u,isAncestorOfActive:g,onItemSelected:l,leadingPath:a,directory:t,dispatchKnownFolders:i,getItemUrl:c,getFetchUrl:p.getItemUrl,selectedItemRef:g?s:void 0,navigate:x.current,onRenderRow:o,navigateOnClick:f,getFileTrailingVisual:d,getFileIcon:m,itemCount:t.items.length},t.data.name):(0,n.jsx)(J,{onItemSelected:l,file:t,isActive:u,getItemUrl:c,selectedItemRef:u?s:void 0,navigate:x.current,onRenderRow:o,getFileTrailingVisual:d,getFileIcon:m},t.data.name)})})}let ea=u.memo(et);function en(e){let{clientOnlyFilePaths:t,data:a,rootItems:r,setRootItems:l,fetchError:i,incompleteFileTree:s,processingTime:o,loading:c,onRenderRow:m,getItemUrl:f,getFileTrailingVisual:h,getFileIcon:p,sortDirectoryItems:g}=e,{knownFolders:x,dispatchKnownFolders:y}=(0,u.useContext)(L),{refreshTree:v}=H();u.useEffect(()=>{if(c)return;let e=new Map,t=[];v?.current||(e=new Map(x),t=r.slice());let{newRootItems:n,rootItemsUpdated:i}=Z(a,e,t,g);(n.length>r.length||i||v?.current)&&l(n),(e.size>x.size||v?.current)&&y({type:"set",folders:e,processingTime:o}),v?.current&&(v.current=!1)},[a,c]);let w=u.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{onMouseDown:w,className:(0,d.$)(e.className,"ReposFileTreeView-module__Box--bDodO"),"data-testid":"repos-file-tree-container",children:c?(0,n.jsx)("div",{className:"ReposFileTreeView-module__Box_1--Q_A5H",children:(0,n.jsx)(z.A,{"aria-label":"Loading file tree"})}):(0,n.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,n.jsxs)(G.G,{"aria-label":"Files",children:[i&&(0,n.jsx)(er,{message:"Some files could not be loaded."}),s&&(0,n.jsx)(er,{message:"Sign in to see the full file tree."}),(0,n.jsx)(ea,{clientOnlyFilePaths:t,directoryItems:r,onItemSelected:e.onItemSelected,dispatchKnownFolders:y,selectedItemRef:e.selectedItemRef,onRenderRow:m,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:f,getFileTrailingVisual:h,getFileIcon:p})]})})})})}function er({message:e}){return(0,n.jsxs)(G.G.Item,{id:"error-tree-row",children:[(0,n.jsx)(G.G.LeadingVisual,{children:(0,n.jsx)(S.A,{icon:o.AlertFillIcon,className:"ReposFileTreeView-module__Octicon--XcIsb"})}),(0,n.jsx)("div",{className:"ReposFileTreeView-module__Box_2--bCLXn",children:e||"Couldn't load."})]})}try{Y.displayName||(Y.displayName="WrappedFileTreeRow")}catch{}try{J.displayName||(J.displayName="FileTreeRow")}catch{}try{Q.displayName||(Q.displayName="WrappedDirectoryTreeRow")}catch{}try{ee.displayName||(ee.displayName="DirectoryTreeRow")}catch{}try{et.displayName||(et.displayName="WrappedDirectoryContents")}catch{}try{ea.displayName||(ea.displayName="DirectoryContents")}catch{}try{en.displayName||(en.displayName="ReposFileTreeView")}catch{}try{er.displayName||(er.displayName="ErrorTreeRow")}catch{}var el=a(23451);function ei({sx:e,onClick:t,textAreaId:a}){let{searchShortcut:i}=(0,l.wk)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.K0,{"aria-label":"Search this repository",tooltipDirection:"nw",icon:o.SearchIcon,"data-hotkey":i.hotkey,sx:e,size:"medium",onClick:e=>{t?.(),(0,el.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})},className:"SearchButton-module__IconButton--kxA3Q"}),(0,n.jsx)(r._,{buttonFocusId:a,buttonHotkey:i.hotkey,onButtonClick:()=>{let e=document.getElementById(a);t?.(),(0,el.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})}try{ei.displayName||(ei.displayName="SearchButton")}catch{}let es=C.Gy.xxxlarge;function eo({clientOnlyFilePaths:e,collapseTree:t,showTree:a,fileTree:r,treeToggleElement:l,treeToggleRef:i,onItemSelected:c,processingTime:m,searchBoxRef:f,repo:R,path:$,refInfo:D,isFilePath:B,foldersToFetch:V,incompleteFileTree:G,id:z,onFindFilesShortcut:W,textAreaId:M,getItemUrlOverride:H,headerClassName:U,paneClassName:K,paneContentsClassName:q,treeContainerClassName:X,findFileWorkerPath:Y,headerContent:J,getFileTrailingVisual:Q,getFileIcon:ee,sortDirectoryItems:et,showFindFile:ea=!0,directoryNavigateOnClick:er=!0,showRefSelectorRow:el=!0,paneResizable:eo=!0}){if(ea&&void 0===Y)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:eu}=(0,y.Ak)(),[em,ef]=u.useState(V.length>0),[eh,ep]=u.useState(!1),eg=u.useRef([]),ex=u.useRef(null),ey=u.useRef(!1),ev=u.useRef(!1),ew=u.useRef(null),{query:eR}=(0,x.JS)(),eF=u.useRef(eR);eF.current=eR;let{codeCenterOption:eb}=(0,N.ud)(),eC=u.useRef(eu),[eN]=(0,s.I)(()=>!1,!0,[]),{getItemUrl:e_}=(0,v.Z)(),ej=H||e_,{defaultBranch:eI}=(0,w.t)(),eT=[],ek=new Map,eE=u.useRef(em);!eE.current&&r&&(eT=Z(r,ek,[],et).newRootItems),eE.current=!0;let[eS,eA]=u.useReducer(ec,ek),[eO,eL]=u.useState(eT);u.useEffect(()=>{a&&(!eR||window.innerWidth>=C.Gy.large)||(ew.current=null)},[a,eR]),u.useEffect(()=>{eu&&eC.current!==eu&&window.innerWidth<es&&t({setPreference:!1}),eC.current=eu},[t,eu]);let eP=u.useCallback(async e=>{let t=e_({contentType:"directory",path:e,name:e});try{let a=await (0,_.lS)(`${t}?noancestors=1`);if(a.ok){let t=await a.json(),n={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};r[e]=n}else ep(!0)}catch{ep(!0)}eg.current.push(e),eg.current.length===V.length&&ef(!1)},[r,V.length,e_]);u.useEffect(()=>{if(G)ef(!1);else if(V&&!ey.current)for(let e of V)eP(e);ey.current=!0},[eP,V,G,eS.size]);let e$=u.useCallback(e=>{a&&(!eF.current||window.innerWidth>=C.Gy.large)&&ex.current&&e&&(0,j.Rt)(e,ex.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[a]),eD=u.useCallback(e=>{e&&ev.current?ev.current=!1:ew.current!==e&&e$(e),ew.current=e},[e$]),eB=u.useCallback(e=>{ex.current=e,window.innerWidth>=es&&e$(ew.current)},[e$]),eV=u.useCallback(e=>{e&&e$(ew.current)},[e$]),{screenSize:eG}=(0,C.lm)(),ez=!eN&&(eu&&eG<es||eG<C.Gy.xlarge)&&eG>=C.Gy.large,eW=u.useCallback(()=>{ez||c(),ev.current=!0},[c,ez]),eM=B?$.substring(0,$.lastIndexOf("/")):$,eH=(0,u.useMemo)(()=>({knownFolders:eS,dispatchKnownFolders:eA}),[eS]),eU=u.useMemo(()=>eN?null:(0,O.KF)(),[eN]),eK=u.useCallback(()=>{window.innerWidth>C.Gy.large&&window.innerWidth<C.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eq=D.name===eI,eZ=(0,n.jsxs)(A.az,{id:z,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":eN?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"}},className:q,children:[(0,n.jsxs)("div",{className:(0,d.$)(U,"ReposFileTreePane-module__Box_1--ZT_4S"),children:[J,el&&(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_2--RgzGf",children:[(0,n.jsx)("div",{className:"ReposFileTreePane-module__Box_3--XDLn8",children:eq||void 0===D.fileExistsOnDefault?(0,n.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0}):(0,n.jsxs)(I.A,{className:"ReposFileTreePane-module__FullWidthButtonGroup--avF6A",children:[D.fileExistsOnDefault?(0,n.jsx)(T.K,{icon:o.ChevronLeftIcon,"aria-label":"View file on default branch",as:b.N,to:(0,F.IO9)({repo:R,commitish:eI,action:"blob",path:$})}):(0,n.jsx)(T.K,{icon:o.ChevronLeftIcon,"aria-label":"View file on default branch",description:"File does not exist on default branch","aria-disabled":!0,inactive:!0}),(0,n.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})]})}),(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_4--TLAAU",children:[D.canEdit&&(0,n.jsx)(T.K,{"aria-label":"Add file",tooltipDirection:"n",as:b.N,icon:o.PlusIcon,to:(0,F.IO9)({repo:R,path:eM,commitish:D.name,action:"new"}),onClick:eW,className:"ReposFileTreePane-module__IconButton--fpuBk"}),(0,n.jsx)(ei,{sx:D.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:eK,textAreaId:M})]})]})]}),D.currentOid&&ea&&Y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.default,{commitOid:D.currentOid,findFileWorkerPath:Y,onItemSelected:c,searchBoxRef:f,sx:{"@media screen and (max-width: 768px)":eN?{display:"none"}:void 0},className:"ReposFileTreePane-module__FileResultsList--YEf_n"}),(0,n.jsx)(h,{inputRef:f,onFindFilesShortcut:W,textAreaId:M})]}),(0,n.jsx)(ed,{scrollingRef:ex}),(0,n.jsxs)(A.az,{ref:eB,sx:{"@media screen and (max-width: 768px)":eN?{display:"none"}:void 0},className:"ReposFileTreePane-module__Box_5--cckih",children:[eN?D.currentOid&&(0,n.jsx)("div",{className:eR?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,n.jsx)(en,{clientOnlyFilePaths:e,data:r,rootItems:eO,selectedItemRef:eD,setRootItems:eL,onItemSelected:eW,processingTime:m,loading:em,fetchError:eh,incompleteFileTree:G,directoryNavigateOnClick:er,getItemUrl:ej,className:X,getFileTrailingVisual:Q,getFileIcon:ee,sortDirectoryItems:et})}):eU&&(0,n.jsx)(O.bL,{node:eU}),!D.currentOid&&!R.isEmpty&&(0,n.jsxs)("div",{className:"ReposFileTreePane-module__Box_6--zVfxO",children:[(0,n.jsx)(S.A,{icon:o.AlertFillIcon}),"\xa0Ref is invalid"]})]})]});return(0,n.jsxs)(L.Provider,{value:eH,children:[eU&&(0,n.jsx)(O.oj,{node:eU,children:D.currentOid&&(0,n.jsx)("div",{className:eR?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,n.jsx)(en,{clientOnlyFilePaths:e,data:r,directoryNavigateOnClick:er,rootItems:eO,selectedItemRef:eD,setRootItems:eL,onItemSelected:eW,processingTime:m,loading:em,fetchError:eh,incompleteFileTree:G,getItemUrl:ej,className:X,getFileTrailingVisual:Q,getFileIcon:ee,sortDirectoryItems:et})})}),!a&&eb.enabled&&l&&(0,n.jsx)(A.az,{sx:{"@media screen and (min-width: 1360px)":{display:"block"}},className:"ReposFileTreePane-module__Box_7--v7doA",children:l}),(0,n.jsx)(k.O7.Pane,{position:"start",sticky:!0,padding:"none",width:"large",resizable:!!eo,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},className:(0,d.$)("ReposFileTreePane-module__Pane--D26Sw",!a&&P,ez||eu?"ReposFileTreePane-module__HidePaneWithTreeOverlay--CJn2n":"ReposFileTreePane-module__HidePane--a07q8",K),children:a&&!ez&&(0,n.jsx)("div",{className:eN?eu?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eZ})}),a&&ez&&eC.current===eu&&(0,n.jsx)(E.Ay,{className:(0,d.$)(eN?eu?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,"ReposFileTreePane-module__Overlay--ynIDA",!a&&P),ref:eV,returnFocusRef:i,onClickOutside:eK,onEscape:eK,top:0,position:"fixed",children:(0,n.jsx)(n.Fragment,{children:eZ})})]})}function ec(e,t){switch(t.type){case"set":{let a=e?.size>0;return(0,R.BI)("file-tree",{"fetch-count":a?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":a?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let a=new Map([...e,...t.folders]);return(0,R.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":a.size,"nav-type":"fetch","processing-time":t.processingTime}),a}default:throw Error(`Unknown action type: ${t.type}`)}}function ed({scrollingRef:e}){let[t,a]=u.useState(e.current&&e.current.scrollTop>0);return u.useEffect(()=>{if(e.current){let t=e.current,n=()=>{t&&t.scrollTop>0?a(!0):a(!1)};return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}},[e]),t?(0,n.jsx)("div",{className:"ReposFileTreePane-module__Box_8--KVzCi"}):null}try{eo.displayName||(eo.displayName="ReposFileTreePane")}catch{}try{ed.displayName||(ed.displayName="TreeBorder")}catch{}var eu=a(76492),em=a(31315),ef=a(35898),eh=a(71315),ep=a(88431),eg=a(81960);function ex(e,t,a,r,l,i="fileTreeExpanded",s){let{sendRepoClickEvent:o}=(0,f.T)(),c=(0,ef.i)(),d=i?(0,em.Ri)(i):void 0,h=void 0===eh.XC,p=!c&&d&&"false"!==d.value||c&&a;void 0===p&&(p=!1);let g=(0,u.useRef)(null),x=(0,u.useRef)(null),{screenSize:y}=(0,C.lm)(),[v,w]=(0,u.useState)(p),R=(0,u.useRef)(p),F=(0,u.useRef)(!1),b=(0,u.useRef)(!1),N=(0,u.useCallback)(()=>!(t.current&&window.innerWidth>=es||!t.current&&window.innerWidth>=C.Gy.xlarge),[t]);(0,ep.N)(()=>{let e=N();e||(F.current=!1),w((0,eu.q)()&&y<C.Gy.large&&!b.current||(!e||F.current)&&(c&&v||!c&&d?.value!=="false"))},[F,d?.value,y,t,N,c]),(0,ep.N)(()=>{let e=!t.current&&window.innerWidth<C.Gy.xlarge,a=!t.current&&window.innerWidth>=C.Gy.xlarge;e&&R.current&&!(0,eu.q)()&&v&&w(!1),a&&R.current&&!v&&w(!0)},[t,y]),(0,ep.N)(()=>{let e=t.current&&window.innerWidth<es,a=t.current&&window.innerWidth>=es;e&&R.current&&!(0,eu.q)()&&v&&w(!1),a&&R.current&&!v&&w(!0)},[t]);let _=(0,u.useCallback)(e=>{if(w(!0),N()&&(F.current=!0),e?.setPreference&&(l?.(!0),R.current=!0,i)){let e=new Date(Date.now()+2592e6).toUTCString();(0,em.TV)(i,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>g.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>x.current?.focus())},[i,2592e6,N,l]),j=(0,u.useCallback)(e=>{if(w(!1),F.current=!1,b.current=!0,e?.setPreference&&(l?.(!1),R.current=!1,i)){let e=new Date(Date.now()+2592e6).toUTCString();(0,em.TV)(i,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>g.current?.focus())},[i,2592e6,l]),I=(0,u.useCallback)(e=>e&&window.innerWidth>=es||!t.current&&window.innerWidth>=C.Gy.xlarge,[t]),T=(0,u.useMemo)(()=>(0,n.jsx)(eg.A,{as:"h2",className:"use-tree-pane-module__Heading--iI_ad",children:(0,n.jsx)(m,{expanded:v,ariaControls:e,onToggleExpanded:()=>{o(v?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),v?j({focus:"toggleButton",setPreference:I(t.current)}):_({focus:"toggleButton",setPreference:I(t.current)})},className:void 0!==d||v||h?void 0:"react-tree-toggle-button-with-indicator",ref:g,textAreaId:r,...s})}),[v,e,d,h,r,s,o,j,I,t,_]);return{isTreeExpanded:v,expandTree:_,collapseTree:j,treeToggleElement:T,treeToggleRef:g,searchBoxRef:x}}},23451:(e,t,a)=>{a.d(t,{Z:()=>n});function n({appendQuery:e,retainScrollPosition:t,returnTarget:a}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:a}}))}},31315:(e,t,a)=>{function n(e){return r(e)[0]}function r(e){let t=[];for(let a of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[n,r]=a.trim().split("=");e===n&&void 0!==r&&t.push({key:n,value:r})}return t}function l(e,t,a=null,n=!1,r="lax"){let i=document.domain;if(null==i)throw Error("Unable to get document domain");i.endsWith(".github.com")&&(i="github.com");let s="https:"===location.protocol?"; secure":"",o=a?`; expires=${a}`:"";!1===n&&(i=`.${i}`);try{document.cookie=`${e}=${t}; path=/; domain=${i}${o}${s}; samesite=${r}`}catch{}}function i(e,t=!1){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let n=new Date(Date.now()-1).toUTCString(),r="https:"===location.protocol?"; secure":"",l=`; expires=${n}`;!1===t&&(a=`.${a}`);try{document.cookie=`${e}=''; path=/; domain=${a}${l}${r}`}catch{}}a.d(t,{OR:()=>r,Ri:()=>n,TV:()=>l,Yj:()=>i})},46209:(e,t,a)=>{a.d(t,{Ak:()=>m,cD:()=>u,iK:()=>d});var n=a(74848),r=a(41617),l=a(35898),i=a(82075),s=a(94195),o=a(96540);let c=(0,i.A)("localStorage"),d=(0,o.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:a}){let i="blame"in t,u=(0,r.Hf)(t),m=(0,l.i)(),f=(0,o.useRef)(void 0),[h,p]=(0,o.useState)(()=>{let e=c.getItem("codeNavOpen");if(!m&&""!==e&&null!==e||m&&t.symbolsExpanded)return"codeNav"}),g=(i||u)&&"codeNav"===h?void 0:h;o.useEffect(()=>{a.current=g},[g,a]);let x=(0,o.useCallback)((e,t)=>{p(a=>(a&&f.current&&f.current.focus(),f.current=t,i||u&&"codeNav"===e?void 0:e))},[i,u]);!function(e){let{screenSize:t}=(0,s.lm)(),a=(0,o.useRef)(t);(0,o.useEffect)(()=>{let n=a.current>=s.Gy.large,r=a.current===t;t<s.Gy.large&&(n||r)&&e(void 0),a.current=t},[t,e])}(x);let y=(0,o.useMemo)(()=>({openPanel:g,setOpenPanel:x}),[g,x]);return(0,n.jsx)(d.Provider,{value:y,children:e})}function m(){return(0,o.useContext)(d)}try{d.displayName||(d.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},52475:(e,t,a)=>{a.d(t,{_S:()=>l,cB:()=>s,cW:()=>i});var n=a(53627),r=a(71315);let l=()=>{let e=(0,n.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},i=e=>{(0,n.C3)({appId:e})},s=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};r.cg?.addEventListener("hashchange",()=>{(0,n.C3)({appId:s()})},!0)},64830:(e,t,a)=>{a.d(t,{T2:()=>c,cp:()=>h,ud:()=>g});var n=a(74848),r=a(21728),l=a(82075),i=a(96540);let s=(0,l.A)("localStorage"),o="codeView.codeFolding",c="codeView.codeWrapping",d="codeView.centerView",u="codeView.openSymbolsOnClick",m=new Map([[o,"Show code folding buttons"],[c,"Wrap lines"],[d,"Center content"],[u,"Open symbols on click"]]),f=(0,i.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),h=e=>{let t,a,l=(0,r.c)(8),{children:i}=e,s=p(o,!0),m=p(c,!1),h=p(d,!1),g=p(u,!0);l[0]!==h||l[1]!==s||l[2]!==m||l[3]!==g?(t={codeFoldingOption:s,codeWrappingOption:m,codeCenterOption:h,openSymbolsOption:g},l[0]=h,l[1]=s,l[2]=m,l[3]=g,l[4]=t):t=l[4];let x=t;return l[5]!==i||l[6]!==x?(a=(0,n.jsx)(f.Provider,{value:x,children:i}),l[5]=i,l[6]=x,l[7]=a):a=l[7],a};function p(e,t){let a,n,l,o,c=(0,r.c)(11);c[0]!==e?(a=s.getItem(e),c[0]=e,c[1]=a):a=c[1];let d=a;c[2]!==t||c[3]!==d?(n=()=>d?"true"===d:t,c[2]=t,c[3]=d,c[4]=n):n=c[4];let[u,f]=(0,i.useState)(n);c[5]!==e?(l=m.get(e)||"",c[5]=e,c[6]=l):l=c[6];let h=l;return c[7]!==u||c[8]!==h||c[9]!==e?(o={name:e,enabled:u,setEnabled:f,label:h},c[7]=u,c[8]=h,c[9]=e,c[10]=o):o=c[10],o}function g(){return(0,i.useContext)(f)}try{f.displayName||(f.displayName="CodeViewOptionsContext")}catch{}try{h.displayName||(h.displayName="CodeViewOptionsProvider")}catch{}},76492:(e,t,a)=>{a.d(t,{Z:()=>m,q:()=>f});var n=a(74848),r=a(70170),l=a(37272),i=a(6665),s=a(71315),o=a(38621),c=a(12683),d=a(96540),u=a(34164);let m=d.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:a,ariaHasPopup:s,onBlur:m,onFocus:h,onKeyDown:p,onPreload:g,onSearch:x,query:y,sx:v,className:w},R)=>{let{sendRepoClickEvent:F}=(0,i.T)(),[b,C]=d.useState(y),N=d.useRef((0,r.s)(e=>x(e),250));d.useEffect(()=>{C(y)},[y]);let _=y?(0,n.jsx)(c.ks.Action,{onClick:()=>{F("FILE_TREE.CANCEL_SEARCH"),x("")},icon:o.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,n.jsx)(c.ks,{autoFocus:f(),ref:R,value:b,onKeyDown:p,onChange:e=>{C(e.target.value),g(),N.current(e.target.value)},sx:v,className:(0,u.$)("d-flex",w),"aria-label":"Go to file","aria-activedescendant":e,role:s?"combobox":void 0,"aria-controls":t,"aria-expanded":a,"aria-haspopup":s?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:o.SearchIcon,trailingAction:_,trailingVisual:_?void 0:()=>(0,n.jsx)(l.E,{children:(0,n.jsx)("kbd",{children:"t"})}),onFocus:e=>{g(),e.target.select(),h?.(e)},onBlur:m,onClick:()=>F("FILE_TREE.SEARCH_BOX")})});function f(){return"1"===new URLSearchParams(s.fV.search).get("search")}m.displayName="FilesSearchBox"}}]);
//# sourceMappingURL=36584-578e4b5a22a3.js.map